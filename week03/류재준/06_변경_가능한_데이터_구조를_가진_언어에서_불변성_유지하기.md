## 📖공부 내용 >>

- 데이터 구조 안에 데이터 구조가 있는 경우는 중첩되었다고 칭함
  - 예를들어 배열 안에 객체가 있는것.
  - 마트료시카 인형을 생각해볼것
  - 깊이 중첩되었다는것은 계속 중첩이 이어진다는 것
- 동작을 읽기 / 쓰기 / 또는 둘 다 하는 것으로 분류 가능
  - 읽기
    - 데이터에서 정보를 가져옴
    - 데이터를 바꾸지 않음
  - 쓰기
    - 데이터를 바꿈
- 쓰기 동작은 불변성 원칙, 카피-온-라이트에 따라 구현해야 함.
  - 카피-온-라이트의 원칙 세단계
    - 복사본 만들기
    - 복사본 변경하기 (원하는 만큼)
    - 복사본 리턴하기
  - `카피-온-라이트가 적용된 함수는 읽기임. 왜냐하면 원본 데이터를 바꾸지 않았기때문에`. 카피-온-라이트는 쓰기를 읽기로 바꿈.
  - 카피-온-라이트 함수를 호출하는 부분을 전역변수에 할당해주어 전역변수 대입 조정
- 쓰면서 읽기도 하는 함수, 예를들어 .pop()메서드나 .shift() 메서드가 대표적인데 이 함수를 분리하려면 단순히 값을 읽는 동작과 쓰는 동작으로 함수를 나누면 된다.
  - 읽기 : 배열의 값 찾기
  - 쓰기 : 해당 메서드의 리턴 값
- 불변데이터구조는 변경가능한 데이터구조보다 메모리르 더 많이 쓰고 느리지만 충분히 빠름
  - 언제든 최적화 가능
  - 가비지 콜렉터는 매우 빠름
  - 생각보다 많이 복사하지 않음.
    - 데이터 구조의 최상위 단계만 복사하는 얕은 복사의 매커니즘 덕. 약튼 복사는 같은 메모리를 가리키는 참조에 대한 복사본을 만듦. 구조적 공유라고 함
      - 구조적 공유에서 공유된 복사본이 변경되지 않는 한 데이터는 안전함.
      - 값을 바꿀대는 복사본을 만들기 때문에 공유된 값은 변경되지 않는다고 확신 가능.
  - 함수형 프로그래밍 언어에는 빠른 구현체가 있음. ex)클로저
  - 중첩된 데이터 구조의 모든 부분이 바뀌지 않아야 불변 데이터라고 부를 수 있음.
- 불변 데이터 구조를 읽는 것은 계산
  - 변경 가능한 데이터를 읽는 것은 액션
  - 쓰기는 데이터를 변경 가능한 구조로 만듦
  - 어떤 데이터에 쓰기가 없다면 데이터는 변경 불가능한 데이터
  - 불변 데이터 구조를 읽는 것은 계산
  - 쓰기를 읽기로 바꾸면 코드에 계산이 많아짐
- 모든 값을 불변형으로 만들더라도 시간에 따라 바뀌는 값을 다룰 수 있어야 함.
  - 교체를 사용하면 되돌리기를 쉽게 구현 가능
- 최상위 전역변수의 값이 항상 최신을 유지하도록 하며 새 값으로 교체(swapping) 하는 방법으로 값 유지보수가 가능하며 이 방법은 함수형 프로그래밍에서 일반적으로 사용하는 방법.
- 클로저, 하스켈같은 언어에는 기본적으로 카피-온-라이트를 지원하지만 자바스크립트에서는 카피-온-라이트 원칙은 직접 구현해줘야 함.
- 계산에서는 변경 가능한 데이터에 쓰기를 할 수 없으므로 함수형 프로그래밍에서는 불변 데이터가 필요 함.

## 🔔알게된 점 >>

- 카피-온-라이트로 쓰기동작을 읽기로 바꾸는것이 매우 중요.
  - 자바스크립트의 얕은 복사가 매우 심플하고 중요하게 적용되는것 같음. 대신 다른 언어는 기본적으로 카피-온-라이트가 지원되기에 자바스크립트는 따로 이렇게 동작하게 해줘야 한다는 것을 알기.
- 불변데이터 구조를 읽는것은 `계산`, 반대로 변경 가능한 데이터를 읽는것은 `액션`이라는것을 확실히 인지하게 됌

## 🫓궁금한 점 >>

- 자바스크립트에서 객체를 복사하는것은 주로 얕은복사를 이용할때 스프레드 연산자를 이용하는데, object.assign은 빈 매게변수를 넣지 않는 이상 객체를 직접 변경하는 메서드같아 스프레드 연산자를 사용하는것이 좋을거같지 않나?
  - object.assign에 빈 매개변수만 넣는다면 작동하는것은 똑같기에 취향문제로 적용하면 될 듯.
